\ProvidesPackage{_tcb_styles}

\ProcessOptions\relax


\RequirePackage[most]{tcolorbox}

\newlength\myskip
\AtBeginDocument{%
  \setlength\myskip{\parskip}%
}

\newlength{\borderwidth}
\setlength{\borderwidth}{.08em}

\tcbset{
    envParSpacing/.style={
        before upper={
            \parskip#1\myskip \advance\parskip%
                0pt plus 2pt 
        },
        before=\par\noindent, after=\par,
        % before skip=\dimexpr#1\envskip-.2\envskip\relax,
    },
    colorsBlank/.style={
        colback=pageC, colframe=thmBgC, coltext=fgC,
    },
    colorsShaded/.style={
        coltext=fgC, colback=thmBgC,
    },
    blanked/.style={
        blanker, 
        breakable,
    },
    tabbed/.style={
        tile, 
        breakable, 
        borderline west={\borderwidth}{0pt}{thmC},
    },
    boxed/.style={
        tile,
        % breakable,
        borderline={\borderwidth}{0pt}{thmC}, 
    }
}

\tcbset{
    styleBlank/.style={
        blanked,
        colorsBlank,
        top=0pt, bottom=0pt, left=0pt, right=0pt,
        envParSpacing=.8, 
    },
    styleShaded/.style={
        blanked,
        colorsShaded,
        colorsBlank,
        top=.2\envskip, bottom=.2\envskip, left=.2\envskip, right=.2\envskip,
        envParSpacing=.8, 
    },
    styleTabbed/.style={
        colorsBlank,
        tabbed,
        envParSpacing=.8, 
        top=0pt, bottom=0pt, 
        right=-2pt,  %% nasty hack
        left=1.3\padding, 
    },
    styleTabShaded/.style={
        colorsShaded,
        tabbed=#1,
        top=\padding, bottom=\padding, left=1.3\padding, right=\padding,
        envParSpacing=.8, 
    },
    styleBoxed/.style={
        colorsShaded,
        boxed,
        top=1.3\padding, bottom=1.3\padding, left=1.3\padding, right=1.3\padding,
        envParSpacing=.8, 
    },
}

\tcbset{
    claim/.style={ styleBlank=#1, after skip=\parskip, before skip=\envskip },
    claimStar/.style={ styleTabShaded=#1, },
    claimCap/.style={ styleTabBoxed, },
}

\tcbset{
    thm/.style={ styleTabbed=#1, },
    thmStar/.style={ styleTabShaded=#1, },
    thmCap/.style={ styleBoxed, },
}

\tcbset{
    def/.style={ styleBlank=#1, },
    defStar/.style={ styleTabShaded=#1, },
    defCap/.style={ styleTabShaded, },
}

\tcbset{
    prob/.style={ styleBlank=#1, },
    probStar/.style={ styleTabbed=#1, },
    probCap/.style={ styleTabShaded, },
}

\tcbset{
    example/.style={ styleBlank=#1, },
    exampleStar/.style={ styleTabShaded=#1, },
    exampleCap/.style={ styleBoxed, },
}

\tcbset{
    soln/.style={ styleBlank=#1, envParSpacing=1, },
    solnStar/.style={ styleTabbed=#1, },
    solnCap/.style={ styleTabShaded, },
}

